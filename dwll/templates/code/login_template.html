<!-- IMPORTANT: Replace {} with {} in django templates code -->
{% extends 'base.html' %}
{% load i18n %}
{% load dwll %}

{% block title %}{% display_message 'login.title'%}{% endblock %}

{% block header %}{% endblock %}

{% block body %}

{% if user.is_authenticated %}
<h2>{% display_message 'user.yet.loggedin'%}</h2>
{% else %}
<form id="login_form" action="{% url 'account_login' %}" method="post">
    {% csrf_token %}
    {{form.next}}

    {% if redirect_field_value %}
    <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
    {% endif %}

    <div class="form-group">
        <label for="login">{% display_message 'account.login.email' %}</label>
        <input type="text" name="login" autofocus="autofocus" maxlength="150"
            placeholder="{% display_message 'account.login.email' %}" 
            id="id_login" required class="input-field">
        <span class="error-msg">{{form.login.errors}}</span>
    </div>

    <div class="form-group">
        <label for="password">{% display_message 'account.login.password' %}</label>
        <input type="password" name="password" autofocus="autofocus" maxlength="150"
            placeholder="{% display_message 'account.login.password' %}" 
            id="id_password" required class="input-field">
        <span class="error-msg">{{form.password.errors}}</span>
    </div>

    <button type="submit" form="login_form" class="btn action_btn">
        <i class="fa fa-user"></i>&nbsp;{% display_message 'customer.login.do' %}
    </button>

    <div class="form-group">
        <a href="{% url 'account_signup' %}{% if redirect_field_value %}?next={{redirect_field_value}}{% endif %}">
            {% display_message 'customer.login.signup.do' %}</a>
        <small>{% display_message 'customer.login.signup.ifnotyet' %}</small>
    </div>

    <div class="form-group">
      <a href="{% url 'account_reset_password' %}">{% display_message 'customer.login.forgotpassword' %}</a>
    </div>
</form>
{% endif %}

{% endblock %}